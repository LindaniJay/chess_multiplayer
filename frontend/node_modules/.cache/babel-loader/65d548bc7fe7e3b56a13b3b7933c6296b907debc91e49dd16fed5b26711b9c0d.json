{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Deviare User\\\\OneDrive\\\\Documents\\\\chess-multiplayer\\\\frontend\\\\src\\\\Chessboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Chess } from 'chess.js';\nimport { Chessboard } from 'react-chessboard';\nimport './Chessboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChessboardComponent = ({\n  fen,\n  moves,\n  onMove,\n  playerColor,\n  turn\n}) => {\n  _s();\n  const [game, setGame] = useState(new Chess());\n  const [lastMoveSquares, setLastMoveSquares] = useState(null);\n\n  // Initialize game from fen or reset\n  useEffect(() => {\n    const newGame = new Chess();\n    if (fen) {\n      newGame.load(fen);\n    }\n    setGame(newGame);\n  }, [fen]);\n\n  // Apply moves from server\n  useEffect(() => {\n    const newGame = new Chess(game.fen());\n    let lastMove = null;\n    moves.forEach(move => {\n      lastMove = newGame.move(move);\n    });\n    setGame(newGame);\n    if (lastMove && lastMove.from && lastMove.to) {\n      setLastMoveSquares({\n        from: lastMove.from,\n        to: lastMove.to\n      });\n    }\n  }, [moves]);\n  const handlePieceDrop = (sourceSquare, targetSquare) => {\n    // Only allow move if it's this player's turn\n    if (!playerColor || playerColor !== turn) return false;\n    const move = game.move({\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: 'q'\n    });\n    if (move) {\n      onMove(move.san);\n      setGame(new Chess(game.fen()));\n      setLastMoveSquares({\n        from: move.from,\n        to: move.to\n      });\n      return true;\n    }\n    return false;\n  };\n\n  // Custom board colors for masculine theme\n  const boardColors = {\n    light: '#BCAAA4',\n    // light brown\n    dark: '#3E2723' // dark brown\n  };\n\n  // Highlight last move\n  const customSquareStyles = lastMoveSquares ? {\n    [lastMoveSquares.from]: {\n      background: '#FFD700',\n      boxShadow: '0 0 10px 2px #FFD700'\n    },\n    [lastMoveSquares.to]: {\n      background: '#B22222',\n      boxShadow: '0 0 10px 2px #B22222'\n    }\n  } : {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chessboard-container\",\n    children: [playerColor && playerColor !== turn && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#FFD700',\n        marginBottom: 8,\n        fontWeight: 'bold'\n      },\n      children: \"Waiting for opponent's move...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Chessboard, {\n      position: game.fen(),\n      onPieceDrop: handlePieceDrop,\n      boardWidth: 350,\n      boardOrientation: playerColor === 'b' ? 'black' : 'white',\n      customBoardStyle: {\n        borderRadius: '8px',\n        boxShadow: '0 2px 12px rgba(0,0,0,0.6)'\n      },\n      customDarkSquareStyle: {\n        backgroundColor: boardColors.dark\n      },\n      customLightSquareStyle: {\n        backgroundColor: boardColors.light\n      },\n      customSquareStyles: customSquareStyles,\n      arePiecesDraggable: !!playerColor && playerColor === turn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(ChessboardComponent, \"j3/BymsmxygVBGmySF7TR0Am34M=\");\n_c = ChessboardComponent;\nexport default ChessboardComponent;\nvar _c;\n$RefreshReg$(_c, \"ChessboardComponent\");","map":{"version":3,"names":["React","useState","useEffect","Chess","Chessboard","jsxDEV","_jsxDEV","ChessboardComponent","fen","moves","onMove","playerColor","turn","_s","game","setGame","lastMoveSquares","setLastMoveSquares","newGame","load","lastMove","forEach","move","from","to","handlePieceDrop","sourceSquare","targetSquare","promotion","san","boardColors","light","dark","customSquareStyles","background","boxShadow","className","children","style","color","marginBottom","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","position","onPieceDrop","boardWidth","boardOrientation","customBoardStyle","borderRadius","customDarkSquareStyle","backgroundColor","customLightSquareStyle","arePiecesDraggable","_c","$RefreshReg$"],"sources":["C:/Users/Deviare User/OneDrive/Documents/chess-multiplayer/frontend/src/Chessboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Chess } from 'chess.js';\nimport { Chessboard } from 'react-chessboard';\nimport './Chessboard.css';\n\ninterface Props {\n  fen: string | null;\n  moves: string[];\n  onMove: (move: string) => void;\n  playerColor: 'w' | 'b' | null;\n  turn: 'w' | 'b';\n}\n\nconst ChessboardComponent: React.FC<Props> = ({ fen, moves, onMove, playerColor, turn }) => {\n  const [game, setGame] = useState(new Chess());\n  const [lastMoveSquares, setLastMoveSquares] = useState<{from: string, to: string} | null>(null);\n\n  // Initialize game from fen or reset\n  useEffect(() => {\n    const newGame = new Chess();\n    if (fen) {\n      newGame.load(fen);\n    }\n    setGame(newGame);\n  }, [fen]);\n\n  // Apply moves from server\n  useEffect(() => {\n    const newGame = new Chess(game.fen());\n    let lastMove: any = null;\n    moves.forEach((move) => {\n      lastMove = newGame.move(move);\n    });\n    setGame(newGame);\n    if (lastMove && lastMove.from && lastMove.to) {\n      setLastMoveSquares({ from: lastMove.from, to: lastMove.to });\n    }\n  }, [moves]);\n\n  const handlePieceDrop = (sourceSquare: string, targetSquare: string) => {\n    // Only allow move if it's this player's turn\n    if (!playerColor || playerColor !== turn) return false;\n    const move = game.move({ from: sourceSquare, to: targetSquare, promotion: 'q' });\n    if (move) {\n      onMove(move.san);\n      setGame(new Chess(game.fen()));\n      setLastMoveSquares({ from: move.from, to: move.to });\n      return true;\n    }\n    return false;\n  };\n\n  // Custom board colors for masculine theme\n  const boardColors = {\n    light: '#BCAAA4', // light brown\n    dark: '#3E2723',  // dark brown\n  };\n\n  // Highlight last move\n  const customSquareStyles = lastMoveSquares\n    ? {\n        [lastMoveSquares.from]: {\n          background: '#FFD700',\n          boxShadow: '0 0 10px 2px #FFD700',\n        },\n        [lastMoveSquares.to]: {\n          background: '#B22222',\n          boxShadow: '0 0 10px 2px #B22222',\n        },\n      }\n    : {};\n\n  return (\n    <div className=\"chessboard-container\">\n      {playerColor && playerColor !== turn && (\n        <div style={{ color: '#FFD700', marginBottom: 8, fontWeight: 'bold' }}>\n          Waiting for opponent's move...\n        </div>\n      )}\n      <Chessboard\n        position={game.fen()}\n        onPieceDrop={handlePieceDrop}\n        boardWidth={350}\n        boardOrientation={playerColor === 'b' ? 'black' : 'white'}\n        customBoardStyle={{\n          borderRadius: '8px',\n          boxShadow: '0 2px 12px rgba(0,0,0,0.6)',\n        }}\n        customDarkSquareStyle={{ backgroundColor: boardColors.dark }}\n        customLightSquareStyle={{ backgroundColor: boardColors.light }}\n        customSquareStyles={customSquareStyles}\n        arePiecesDraggable={!!playerColor && playerColor === turn}\n      />\n    </div>\n  );\n};\n\nexport default ChessboardComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}